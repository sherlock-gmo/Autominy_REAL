#!/usr/bin/env python
import rospy
import cv2
import numpy as np
from sensor_msgs.msg import LaserScan

#**********************************************************************************************************************************
#**********************************************************************************************************************************
#**********************************************************************************************************************************
class sensors_processing(object):
#----------------------------------------------------------------------------------------------------------------
#																	INIT
#----------------------------------------------------------------------------------------------------------------
	def __init__(self):
		#V. Lidar
		self.R = np.zeros(360)
		#V. Parking
		rospy.Subscriber('/sensors/rplidar/scan', LaserScan, self.callback_Lidar)
#----------------------------------------------------------------------------------------------------------------											LIDAR
	def callback_Lidar(self, data_lidar):
		rmax = 3.0 # Distancia maxima de deteccion
		i = 0
		for r in data_lidar.ranges:
			if (r>=rmax): r = rmax
			if (r<0.3): print(i)
			#if (i>=162) and (i<=164): r = rmax
			#if (i>=206) and (i<=208): r = rmax
			#self.R[i] = r
			i = i+1
		#print(np.argmin(data_lidar.ranges))
#**********************************************************************************************************************************
#**********************************************************************************************************************************
#**********************************************************************************************************************************
if __name__ == '__main__':
	print("Nodo inicializado: lidar_cal.py")
	rospy.init_node('lidar_cal',anonymous=True)
	sensors_processing()
	rospy.spin()








